(function(){"use strict";var t={7639:function(t,e,a){var s=a(144),n=a(998),o=a(6232),i=a(5550),r=a(9582),l=a(2150),d=a(9223),c=a(4324),u=a(5808),m=a(4525),h=a(8279),p=a(4611),v=a(3059),_=a(2604),f=a(7953),g=function(){var t=this,e=t._self._c;return e(n.Z,{attrs:{id:"inspire"}},[e(r.Z,[e(_.Z,{attrs:{app:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[e(m.Z,[e(h.km,[e(h.V9,{staticClass:"text-h6"},[t._v(" 推邮系统 ")]),e(h.oZ,[t._v(" "+t._s(t.tySysOwner)+" ")])],1)],1),e(d.Z),e(u.Z,{attrs:{dense:"",nav:""}},t._l(t.items,(function(a){return e(m.Z,{key:a.title,attrs:{link:""}},[e(p.Z,[e(c.Z,[t._v(t._s(a.icon))])],1),e(h.km,[e(h.V9,{on:{click:function(e){return t.jmpPage(a.kk)}}},[t._v(" "+t._s(a.title))])],1)],1)})),1)],1)],1),e(o.Z,{attrs:{app:""}},[e(i.Z,{on:{click:function(e){t.drawer=!t.drawer}}}),e(f.qW,[t._v(t._s(t.tySysOwner))])],1),e(v.Z,[e(l.Z,{attrs:{fluid:""}},[e("router-view")],1)],1)],1)},x=[],Z={data:()=>({drawer:null,items:[],tySysOwner:"System admin"}),created:function(){this.tySysOwner,this.items=[{title:"域名",icon:"mdi-view-dashboard",kk:"domains"},{title:"邮件列表",icon:"mdi-image",kk:"emails"},{title:"设置帮助",icon:"mdi-help-box",kk:"setting"}]},methods:{jmpPage:function(t){"domains"==t?this.$router.push({name:"vDomains",params:{msg:t}}):"emails"==t?this.$router.push({name:"vEmails",params:{msg:t}}):"setting"==t&&this.$router.push({name:"vSetting",params:{msg:t}})}}},b=Z,S=a(1001),y=(0,S.Z)(b,g,x,!1,null,null,null),k=y.exports,w=a(1705);s.ZP.use(w.Z);var D=new w.Z({}),O=a(8345),E=function(){var t=this,e=t._self._c;return e("h1",[t._v("Hello "+t._s(t.$route.params.msg))])},N=[],P={name:"vHelloWorld",data:()=>({})},j=P,L=(0,S.Z)(j,E,N,!1,null,null,null),M=L.exports,B=a(6190),R=a(4886),A=a(266),U=a(1889),T=a(1713),$=a(7808),I=function(){var t=this,e=t._self._c;return e(l.Z,[e("h3",[t._v("管理你的域名")]),e(T.Z,[e(A.Z,{attrs:{cols:"1"}},[e(B.Z,{attrs:{block:"",color:"primary"},on:{click:function(e){return t.addNewDomain(e)}}},[t._v("新增域名")])],1)],1),e(T.Z,[e(A.Z,{attrs:{cols:"12"}},[e(r.Z,[e(R.EB,[e($.Z,{attrs:{"append-icon":"mdi-magnify",label:"查找","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),e(U.Z,{attrs:{headers:t.headers,items:t.domains,search:t.search}})],1)],1)],1)],1)},H=[],V=a(9669),W=a.n(V),C={name:"vTyWorkSpace",data:()=>({search:"",headers:[{text:"域名",value:"domain"},{text:"mx",value:"mx"},{text:"spf",value:"spf"},{text:"dmarc",value:"dmarc"},{text:"ptr",value:"ptr"},{text:"uid",value:"uid"},{text:"收件数量",value:"mailcount"}],domains:[{domain:"hi"},{domain:"h2"}]}),methods:{addNewDomain(t){console.log(t),this.$router.push({name:"vPageEditDomain",params:{msg:"new"}})},_helpMxStr(t){console.log(t),t=JSON.parse(t);let e="";for(let a in t)e+=a,e=e+":"+t[a];return e}},mounted:function(){let t=2;1!=t&&(W().defaults.baseURL="",W().get("/api/getDomains").then((t=>{if(console.log("/getDomains",t),this.domains=[],200==t.status&&200==t.data.code){let e=t.data.data;for(let t in e){console.log("item",e[t]);let a={};a.domain=e[t].domain,a.mailcount=e[t].recv_count,a.mx=this._helpMxStr(e[t].dns_mx),this.domains.push(a)}}})).catch((t=>{console.log(t)})))}},J=C,K=(0,S.Z)(J,I,H,!1,null,null,null),X=K.exports,q=function(){var t=this,e=t._self._c;return e(l.Z,[e("h3",[t._v("邮件列表")]),e(T.Z,[e(A.Z,{attrs:{cols:"12"}},[e(r.Z,[e(R.EB,[e($.Z,{attrs:{"append-icon":"mdi-magnify",label:"查找","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),e(U.Z,{attrs:{headers:t.headers,items:t.domains,search:t.search}})],1)],1)],1)],1)},z=[],F={name:"vTyWorkSpace",data:()=>({search:"",headers:[{text:"域名",value:"domain"},{text:"mx",value:"mx"},{text:"spf",value:"spf"},{text:"dmarc",value:"dmarc"},{text:"ptr",value:"ptr"},{text:"uid",value:"uid"},{text:"收件数量",value:"mailcount"}],domains:[{domain:"hi"},{domain:"h2"}]}),methods:{addNewDomain(t){console.log(t),this.$router.push({name:"vPageEditDomain",params:{msg:"new"}})},_helpMxStr(t){console.log(t),t=JSON.parse(t);let e="";for(let a in t)e+=a,e=e+":"+t[a];return e}},mounted:function(){let t=2;1!=t&&(W().defaults.baseURL="",W().get("/api/getDomains").then((t=>{if(console.log("/getDomains",t),this.domains=[],200==t.status&&200==t.data.code){let e=t.data.data;for(let t in e){console.log("item",e[t]);let a={};a.domain=e[t].domain,a.mailcount=e[t].recv_count,a.mx=this._helpMxStr(e[t].dns_mx),this.domains.push(a)}}})).catch((t=>{console.log(t)})))}},G=F,Q=(0,S.Z)(G,q,z,!1,null,null,null),Y=Q.exports,tt=function(){var t=this,e=t._self._c;return e(l.Z,[e("h3",[t._v("设置管理")]),e("h3",[t._v("webhook设置")]),e(T.Z,[e(A.Z,{attrs:{cols:"12"}},[e(r.Z,[e(R.EB,[e($.Z,{attrs:{"append-icon":"mdi-magnify",label:"查找","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),e(U.Z,{attrs:{headers:t.headers,items:t.domains,search:t.search}})],1)],1)],1)],1)},et=[],at={name:"vTyWorkSpace",data:()=>({search:"",headers:[{text:"域名",value:"domain"},{text:"mx",value:"mx"},{text:"spf",value:"spf"},{text:"dmarc",value:"dmarc"},{text:"ptr",value:"ptr"},{text:"uid",value:"uid"},{text:"收件数量",value:"mailcount"}],domains:[{domain:"hi"},{domain:"h2"}]}),methods:{addNewDomain(t){console.log(t),this.$router.push({name:"vPageEditDomain",params:{msg:"new"}})},_helpMxStr(t){console.log(t),t=JSON.parse(t);let e="";for(let a in t)e+=a,e=e+":"+t[a];return e}},mounted:function(){let t=2;1!=t&&(W().defaults.baseURL="",W().get("/api/getDomains").then((t=>{if(console.log("/getDomains",t),this.domains=[],200==t.status&&200==t.data.code){let e=t.data.data;for(let t in e){console.log("item",e[t]);let a={};a.domain=e[t].domain,a.mailcount=e[t].recv_count,a.mx=this._helpMxStr(e[t].dns_mx),this.domains.push(a)}}})).catch((t=>{console.log(t)})))}},st=at,nt=(0,S.Z)(st,tt,et,!1,null,null,null),ot=nt.exports,it=a(7359),rt=function(){var t=this,e=t._self._c;return e(l.Z,[e("h1",[t._v("域名设置 "+t._s(t.$route.params.msg))]),e(T.Z,[e(A.Z,{attrs:{cols:"12",sm:"6"}},[t._v(" 域名 "),e($.Z,{attrs:{placeholder:"输入域名"},on:{keyup:t.makeDns,blur:t.makeDns},model:{value:t.domain,callback:function(e){t.domain=e},expression:"domain"}})],1),e(A.Z,{attrs:{cols:"12",sm:"6"}},[t._v(" IP "),e($.Z,{attrs:{placeholder:"点击输入本机IP"},on:{keyup:t.makeDns,blur:t.makeDns,click:function(e){return t.loadServerIp(e)}},model:{value:t.ip,callback:function(e){t.ip=e},expression:"ip"}})],1)],1),e(T.Z,[e(A.Z,[e("div",{staticStyle:{"padding-bottom":"4px"}},[t._v("根据下面的指引，设置dns mx记录")]),e(r.Z,[e(R.EB,[t._v(" 域名: "),e("strong",[t._v(t._s(t.domain))])]),e(R.ZB,[e("div",[t._v("DNS记录类型: "),e("strong",[t._v(" MX ")])]),e("div",[t._v("DNS记录内容: "),e("strong",[t._v(t._s(t.dns_mx))])]),e("div",[t._v("优先级: "),e("strong",[t._v(t._s(10))])])]),e(R.EB,[t._v(" 域名:  "),e("strong",[t._v(t._s(t.dns_a))])]),e(R.ZB,[e("div",[t._v("DNS记录类型: "),e("strong",[t._v(" A ")])]),e("div",[t._v("DNS记录内容:   "),e("strong",[t._v(t._s(t.ip))])])]),e(R.ZB)],1)],1)],1),e(T.Z,[e(A.Z,{attrs:{cols:"12",sm:"3"}},[e(B.Z,{attrs:{size:"30",loading:t.mbStatus.isLoading,disabled:t.mbStatus.isDisabled,block:"",color:"primary"},on:{click:function(e){return t.checkDNS(e,"mx")}}},[t._v("验证DNS MX记录")])],1),e(A.Z,{attrs:{cols:"12",sm:"9"}},[e(it.Z,{directives:[{name:"show",rawName:"v-show",value:t.dns_mx_alert.show,expression:"dns_mx_alert.show"}],attrs:{text:"",dense:"",type:t.dns_mx_alert.type}},[t._v(" "+t._s(t.dns_mx_alert.message))])],1)],1)],1)},lt=[],dt={name:"vDomainAcc",data:()=>({domain:"",dns_mx:"",dns_a:"",ip:"1.1.1.1",js_status_loading:!1,mbStatus:{isLoading:!1,isDisabled:!1},dns_mx_alert:{type:"info",show:!1,message:""},xrefid:(Math.random()+(new Date).getTime()).toString(32).slice(0,8)}),methods:{resetStatus:function(){this.js_status_loading=!1,this.dns_mx_alert={type:"info",show:!1,message:""}},makeDns:function(){console.log("domainis ",this.domain),this.dns_mx="mx1."+this.domain+".",this.dns_a="mx1."+this.domain,console.log("BASE URL "+this.cfgset),this.resetStatus()},checkDNS:function(t,e){this.mbStatus.isLoading=!0,this.mbStatus.isDisabled=!0,console.log("event.target",t.target),console.log("check DNS for ",this.domain,this.ip),W().defaults.baseURL="",W().post("/api/checkDNS",{domain:this.domain,type:e,extra:this.dns_a,content:this.ip,xrefid:this.xrefid}).then((t=>{console.log("checkDNS OK, resp ",t),200==t.status&&(200==t.data.code&&"OK"==t.data.message?(this.dns_mx_alert.message="设置成功",this.dns_mx_alert.type="success"):(this.dns_mx_alert.message="设置失败，请检查dns的mx记录",this.dns_mx_alert.type="warning"),this.dns_mx_alert.show=!0,this.mbStatus.isLoading=!1,this.mbStatus.isDisabled=!1)})).catch((t=>{console.log("checkDNS ERROR",t),this.mbStatus.isLoading=!1,this.mbStatus.isDisabled=!1}))},loadServerIp:function(t){if(this.resetStatus(),this.js_status_loading)return;if(this.ip.length>5)return;let e=t.target;e.setAttribute("placeholder","正在加载本机ip..."),W().defaults.baseURL="",W().get("/api/getHostIp").then((t=>{console.log("loadMyIp ",t),200==t.status&&200==t.data.code&&(this.ip=t.data.data),this.js_status_loading=!1,e.setAttribute("placeholder",""),this.makeDns()})).catch((t=>{console.log("error on loadServerIp",t),this.js_status_loading=!1,e.setAttribute("placeholder","")}))}},created(){console.log("The vue created.")}},ct=dt,ut=(0,S.Z)(ct,rt,lt,!1,null,null,null),mt=ut.exports;const ht=O.Z.prototype.push;O.Z.prototype.push=function(t){return ht.call(this,t).catch((t=>t))};var pt=new O.Z({mode:"history",routes:[{path:"/",name:"vHome",component:X},{path:"/hello/:msg",name:"vPageHello",component:M},{path:"/dash/:msg",name:"vDomains",component:X},{path:"/dash/:msg",name:"vEmails",component:Y},{path:"/dash/:msg",name:"vSetting",component:ot},{path:"/editdomain/:msg",name:"vPageEditDomain",component:mt}]});s.ZP.use(O.Z),s.ZP.config.productionTip=!1,console.log("I use VUE_APP_BASEURL sx ",{NODE_ENV:"production",VUE_APP_BASEURL:"",BASE_URL:"/"}),new s.ZP({vuetify:D,router:pt,render:t=>t(k)}).$mount("#app")}},e={};function a(s){var n=e[s];if(void 0!==n)return n.exports;var o=e[s]={exports:{}};return t[s](o,o.exports,a),o.exports}a.m=t,function(){var t=[];a.O=function(e,s,n,o){if(!s){var i=1/0;for(c=0;c<t.length;c++){s=t[c][0],n=t[c][1],o=t[c][2];for(var r=!0,l=0;l<s.length;l++)(!1&o||i>=o)&&Object.keys(a.O).every((function(t){return a.O[t](s[l])}))?s.splice(l--,1):(r=!1,o<i&&(i=o));if(r){t.splice(c--,1);var d=n();void 0!==d&&(e=d)}}return e}o=o||0;for(var c=t.length;c>0&&t[c-1][2]>o;c--)t[c]=t[c-1];t[c]=[s,n,o]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var s in e)a.o(e,s)&&!a.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};a.O.j=function(e){return 0===t[e]};var e=function(e,s){var n,o,i=s[0],r=s[1],l=s[2],d=0;if(i.some((function(e){return 0!==t[e]}))){for(n in r)a.o(r,n)&&(a.m[n]=r[n]);if(l)var c=l(a)}for(e&&e(s);d<i.length;d++)o=i[d],a.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return a.O(c)},s=self["webpackChunkvuetify_app"]=self["webpackChunkvuetify_app"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=a.O(void 0,[998],(function(){return a(7639)}));s=a.O(s)})();
//# sourceMappingURL=app.66137a4c.js.map